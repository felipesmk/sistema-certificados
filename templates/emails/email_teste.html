{% extends "emails/base_email.html" %}

{% block content %}
<div class="alert alert-success">
    <strong>TESTE DE CONFIGURAÇÃO DE EMAIL</strong><br>
    Este é um email de teste para verificar a configuração do sistema de envio.
</div>

<div class="card">
    <div class="card-title">CONFIGURAÇÃO TESTADA</div>
    <table class="table">
        <tr>
            <th>Servidor SMTP:</th>
            <td>{{ config.mail_server }}</td>
        </tr>
        <tr>
            <th>Porta:</th>
            <td>{{ config.mail_port }}</td>
        </tr>
        <tr>
            <th>Usuário:</th>
            <td>{{ config.mail_username }}</td>
        </tr>
        <tr>
            <th>Segurança:</th>
            <td>
                <span class="badge badge-success">
                    {{ config.mail_use_tls.upper() }}
                </span>
            </td>
        </tr>
        <tr>
            <th>Remetente:</th>
            <td>{{ config.mail_default_sender }}</td>
        </tr>
    </table>
</div>

<div class="card">
    <div class="card-title">STATUS DO SISTEMA</div>
    <div style="display: flex; gap: 20px; flex-wrap: wrap;">
        <div style="flex: 1; min-width: 150px;">
            <div style="text-align: center; padding: 15px; background-color: #28a745; color: white; border-radius: 8px;">
                <div style="font-size: 24px; font-weight: bold;">OK</div>
                <div style="font-size: 14px;">EMAIL ENVIADO</div>
            </div>
        </div>
        <div style="flex: 1; min-width: 150px;">
            <div style="text-align: center; padding: 15px; background-color: #17a2b8; color: white; border-radius: 8px;">
                <div style="font-size: 24px; font-weight: bold;">OK</div>
                <div style="font-size: 14px;">SMTP FUNCIONANDO</div>
            </div>
        </div>
        <div style="flex: 1; min-width: 150px;">
            <div style="text-align: center; padding: 15px; background-color: #6f42c1; color: white; border-radius: 8px;">
                <div style="font-size: 24px; font-weight: bold;">OK</div>
                <div style="font-size: 14px;">AUTENTICAÇÃO OK</div>
            </div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-title">INFORMAÇÕES DO TESTE</div>
    <ul style="margin-left: 20px; margin-bottom: 15px;">
        <li><strong>Data/Hora:</strong> {{ momento_teste }}</li>
        <li><strong>Destinatário:</strong> {{ destinatario }}</li>
        <li><strong>Assunto:</strong> {{ subject }}</li>
        <li><strong>Status:</strong> <span class="badge badge-success">Enviado com sucesso</span></li>
    </ul>
</div>

<div class="alert alert-info">
    <strong>PRÓXIMOS PASSOS:</strong>
    <ul style="margin-left: 20px; margin-top: 10px;">
        <li>Configure alertas automáticos no sistema</li>
        <li>Teste o envio de emails para responsáveis</li>
        <li>Verifique se os emails estão chegando corretamente</li>
        <li>Configure filtros de spam se necessário</li>
    </ul>
</div>

<div class="alert alert-warning" style="margin-top: 20px;">
    <strong>IMPORTANTE:</strong> Se este email chegou corretamente, significa que o sistema de envio 
    está funcionando perfeitamente. Agora você pode configurar os alertas automáticos e começar a usar 
    o sistema de notificações.
</div>
{% endblock %} 